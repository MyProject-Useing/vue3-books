<template>
  <div class="book-index-panle book-detail-wrap">
    <div class="book-information">
      <div class="book-img">
        <a
          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/nqyNH8zOVm5OBDFlr9quQA2/"
          title="轻小说,原生幻想"
          ><img
            src="//bookcover.yuewen.com/qdbimg/349573/1033328097/180"
            alt="我在异界肝经验在线阅读"
        /></a>
      </div>
      <div class="book-info">
        <h1>
          <em>我在异界肝经验</em>
          <span><span>卒印</span> 著</span>
        </h1>
        <p class="tag">
          <span class="blue">连载</span>
          <span class="blue">免费</span>
        </p>
        <p class="intro">小说简介</p>
        <p>
          <em><span class="szWntGoi">0</span></em
          ><cite>万字</cite><i>|</i> <em><span class="szWntGoi">0</span></em
          ><cite>总推荐</cite><i>|</i><em><span class="szWntGoi">0</span></em
          ><cite>周推荐</cite>
        </p>
        <p>
          <a
            class="blue-btn"
            href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/nqyNH8zOVm5OBDFlr9quQA2/"
            >免费试读</a
          ><a class="blue-btn add-book" href="javascript:">加入书架</a>
        </p>
      </div>
    </div>
    <div class="content-nav-wrap">
      <a-tabs v-model:activeKey="activeKey">
        <a-tab-pane key="1" tab="作品信息"
          ><div class="left-wrap fl">
            <div class="book-info-detail">
              <div class="book-intro">
                <p>一个穿越异界，依靠熟练度能力，不断肝经验变强的故事。</p>
              </div>
              <div class="book-state">
                <ul>
                  <li class="update">
                    <b>最新章节</b>
                    <div class="detail">
                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/JbcFH8tD4fFMs5iq0oQwLQ2/"
                          title="我在异界肝经验 第六十章 魄力在线阅读"
                          >第六十章 魄力</a
                        ><i>·</i><em class="time">18小时前</em>
                      </p>

                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/JPDjbTniW3LM5j8_3RRvhw2/"
                          title="我在异界肝经验 第五十九章 安顿在线阅读"
                          >第五十九章 安顿</a
                        ><i>·</i><em class="time">2022-05-04</em>
                      </p>

                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/rYj-vsjNbPhOBDFlr9quQA2/"
                          title="我在异界肝经验 第五十八章 抵达在线阅读"
                          >第五十八章 抵达</a
                        ><i>·</i><em class="time">2022-05-03</em>
                      </p>

                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/Kcp_DxS-7HBp4rPq4Fd4KQ2/"
                          title="我在异界肝经验 第五十七章 神意在线阅读"
                          >第五十七章 神意</a
                        ><i>·</i><em class="time">2022-05-02</em>
                      </p>

                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/qfKNaKxdj39OBDFlr9quQA2/"
                          title="我在异界肝经验 第五十六章 途中在线阅读"
                          >第五十六章 途中</a
                        ><i>·</i><em class="time">2022-05-01</em>
                      </p>

                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/32zcjLXwHYbgn4SMoDUcDQ2/"
                          title="我在异界肝经验 第五十五章 普通在线阅读"
                          >第五十五章 普通</a
                        ><i>·</i><em class="time">2022-04-30</em>
                      </p>

                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/RmGirr2f4-FOBDFlr9quQA2/"
                          title="我在异界肝经验 第五十四章 修整在线阅读"
                          >第五十四章 修整</a
                        ><i>·</i><em class="time">2022-04-29</em>
                      </p>

                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/hGNVLry0oKTgn4SMoDUcDQ2/"
                          title="我在异界肝经验 第五十三章 雾在线阅读"
                          >第五十三章 雾</a
                        ><i>·</i><em class="time">2022-04-28</em>
                      </p>

                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/ZpwjczsK4JPM5j8_3RRvhw2/"
                          title="我在异界肝经验 第五十二章 生死在线阅读"
                          >第五十二章 生死</a
                        ><i>·</i><em class="time">2022-04-27</em>
                      </p>

                      <p class="cf charpter-container">
                        <a
                          class="blue charpter-link"
                          href="//read.qidian.com/chapter/mT-d-k_P9qSIRkU8pnqrJw2/pekHSqOGIgTwrjbX3WA1AA2/"
                          title="我在异界肝经验 第五十一章 离开在线阅读"
                          >第五十一章 离开</a
                        ><i>·</i><em class="time">2022-04-26</em>
                      </p>
                      <p class="tag-wrap mt10"></p>
                    </div>
                  </li>
                </ul>
              </div>
            </div></div
        ></a-tab-pane>
        <a-tab-pane key="2" tab="目录" force-render
          >Content of Tab Pane 2</a-tab-pane
        >
      </a-tabs>
    </div>
  </div>
</template>

<script>
import { getCover } from "@/plugins/utils.js";
import { message } from "ant-design-vue";
export default {
  name: "bookIndex",
  data() {
    return {
      activeKey: "1",
    };
  },
  // components: { DeleteOutlined },
  computed: {
    cacheBookList() {
      return this.$store.state.caches.readBooksList;
    },
  },
  mounted() {
    this.keywords = this.$route.query.keywords ?? "";
  },
  methods: {
    filterOption(input, option) {
      return option.value.toUpperCase().indexOf(input.toUpperCase()) >= 0;
    },
    // 直接阅读缓存的书籍
    toDetail(book) {
      // 当前正在阅读的书籍
      this.$store.commit("caches/setReadingBook", book);
      this.$router.push({
        path: "/readBooks",
        query: { page: book.readIndex || 1, bookUrl: escape(book.bookUrl) },
      });
    },
    // 跳转查询详情页面
    searchDetails() {
      if (this.keywords.length == 0) {
        message.warning("请输入查询条件！");
        return;
      }
      this.$router.push({
        path: "/searchResult",
        query: { keywords: this.keywords },
      });
    },
    getCover(coverUrl, normal) {
      return getCover(coverUrl, normal);
    },
    deleteBook(book) {
      // 删除当前书籍
      this.$store.commit("caches/deleteReadBooks", book);
    },
  },
};
</script>

<style scoped>
@import url("./css/index.css");

/*最新章节*/
.content-nav-wrap :deep(.left-wrap) {
  width: 700px;
  padding-bottom: 40px;
}

.content-nav-wrap :deep(.left-wrap) .book-info-detail {
  margin-bottom: 20px;
}

.content-nav-wrap :deep(.left-wrap) .book-intro {
  padding-bottom: 20px;
  border-bottom: 1px solid #e6e6e6;
}

.content-nav-wrap :deep(.left-wrap) .book-intro p {
  font: 14px/28px PingFangSC-Regular, "-apple-system", Simsun;
  overflow: hidden;
  margin: 0px;
  padding-left: 23px;
}

.content-nav-wrap :deep(.left-wrap) .book-state {
  position: relative;
  z-index: 2;
}

.content-nav-wrap :deep(.left-wrap) .book-state li b {
  font: 14px/24px PingFangSC-Regular, "-apple-system", Simsun;
  float: left;
  width: 98px;
  margin: 19px 20px 0 0;
  color: #999;
}

.content-nav-wrap :deep(.left-wrap) .book-state li.update .detail {
  border-bottom: none;
}
.content-nav-wrap :deep(.left-wrap) .book-state li .detail {
  float: left;
  width: 542px;
  padding: 20px 0;
  border-bottom: 1px solid #e6e6e6;
}

.content-nav-wrap
  :deep(.left-wrap)
  .book-state
  li.update
  .detail
  .charpter-container {
  display: inline-block;
  width: 260px;
  height: 22px;
  margin: 0px;
}

.content-nav-wrap
  :deep(.left-wrap)
  .book-state
  li.update
  .detail
  .charpter-link {
  overflow: hidden;
  max-width: 160px;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.content-nav-wrap :deep(.left-wrap) .book-state li .detail p i {
  font-family: Arial;
  margin: 2px 10px 0;
  color: #a6a6a6;
}

.content-nav-wrap :deep(.left-wrap) .book-state li .detail .time,
.content-nav-wrap :deep(.left-wrap) .book-state li .detail a.blue,
.content-nav-wrap :deep(.left-wrap) .book-state li .detail i {
  float: left;
  display: inline-block;
  vertical-align: middle;
}

.content-nav-wrap :deep(.left-wrap) .book-state li em.null,
.content-nav-wrap :deep(.left-wrap) .book-state li em.time {
  color: #999;
}
.blue {
  color: #3f5a93;
}
/*最新章节*/
</style>
